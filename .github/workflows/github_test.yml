name: Test
on: [push]
jobs:
  Test-Changes:
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: echo "ðŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - uses: FedericoCarboni/setup-ffmpeg@v3
        id: setup-ffmpeg
        with:
          ffmpeg-version: release
      - name: Install uv
        uses: astral-sh/setup-uv@v6
      - name: Install project and dev dependencies
        shell: bash -l {0}
        run: uv sync --group dev
      - name: Pytest
        shell: bash -l {0}
        run: uv run pytest
